---
const links = [
  { url: "/#about", text: "Sobre m√≠" },
  { url: "/#book", text: "Trabajo" },
  { url: "/#contact", text: "Contacto" },
];
---

<header
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-500 animate-slide-down bg-transparent"
  data-main-header
>
  <nav class="container mx-auto px-6 py-5 flex items-center justify-between">
    <a
      href="#"
      class="font-display text-xl font-medium tracking-wide text-foreground"
    >
      Tina Rosero
    </a>

    {/* Desktop Navigation */}
    <ul class="hidden md:flex items-center gap-10">
      {
        links.map((link) => (
          <li>
            <a
              href={link.url}
              class="link-underline text-sm uppercase tracking-widest text-foreground transition-colors duration-300"
            >
              {link.text}
            </a>
          </li>
        ))
      }
    </ul>

    <button
      class="md:hidden text-foreground p-2"
      aria-label="Toggle menu"
      id="nav-toggle"
    >
      <span class="sr-only">Toggle menu</span>
      <svg class="w-6 h-6 fill-current">
        <use href="/icons-sprite.svg#menu-icon"></use>
      </svg>
    </button>
  </nav>

  {/* Mobile Menu */}
  <div
    class="md:hidden bg-background/95 backdrop-blur-md border-t border-border overflow-hidden transition-all duration-300 ease-out"
    data-mobile-menu
  >
    <ul class="container mx-auto px-6 py-8 flex flex-col gap-6">
      {
        links.map((link) => (
          <li>
            <a
              href={link.url}
              class="text-lg uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors"
            >
              {link.text}
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    function checkScrollPosition() {
      if (window.scrollY > 100) {
        document.body.classList.add("scrolled");
      } else {
        document.body.classList.remove("scrolled");
      }
    }

    function toggleMenu() {
      document.body.classList.toggle("menu-open");
      const svg = document.getElementById("nav-toggle")?.querySelector("svg");
      if (svg) {
        svg.innerHTML = document.body.classList.contains("menu-open")
          ? "<use href='/icons-sprite.svg#close-icon'></use>"
          : "<use href='/icons-sprite.svg#menu-icon'></use>";
      }
    }

    document.addEventListener("scroll", checkScrollPosition);
    checkScrollPosition();

    document
      .getElementById("nav-toggle")
      ?.addEventListener("click", toggleMenu);
  });
</script>
